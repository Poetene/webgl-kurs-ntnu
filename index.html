<!DOCTYPE html>
<html>
  <head>
    <meta charset=utf-8 />
    <title>Kurs i WebGL med THREE.js</title>
    <style type="text/css">
      /* Slideshow styles */
    </style>
    <script src=remark-0.5.7.min.js></script>
    <script src=//cdnjs.cloudflare.com/ajax/libs/three.js/r61/three.min.js></script>
    <link rel=stylesheet type=text/css href=res/css/style.css />
    <style>
        canvas {
            border: 1px solid #000;
            display: block;
            margin: 0 auto;
        }
    </style>
  </head>
  <body>
    <textarea id="source">

class: center, middle

# WebGL
&amp;
#THREE.js
<span class=subtle>med Poetene</span>


---

# Dette kurset
Korte oppgaver som viser grunnleggende THREE.js-konsepter.

Til slutt kombinere det dere har sett til en egen kul effekt!

Ha mye moro :)

???
Hver del skal de gjøre litt selv.

De må gjerne finne på og tweake selv.

---

# Hvem er vi?

Poetene er en interessegruppe i Abakus

Vi liker teknologi (gammel og ny)

Fra WebGL til Mikrokontrollere, vi liker det meste

---
class: center

# JavaScript

<!-- deal with it -->
<br>

"Virker som Python,<br>ser ut som Java"

---

<br>
<br>
<br>
```javascript
var someString = "this is a string";

var someArray = ['foo', 'bar'];
someArray[0]; /* foo */

var someObject = {x: 5, y: 9};
someObject.x; /* 5 */
```

???

Slik ser det ut når man lager en variabel.
arrays
objects

---

<br><br><br>
```javascript
var someNumber = 0;

someNumber += 1; /* someNumber is now 1 */
```

---

<br>
<br>
<br>
```javascript
function add(number1, number2){
    return number1 + number2;
}

add(10, 20); /* returns 30 */
```

???

funksjoner ser sånn ut

---

<br>
<br>
<br>
```javascript
function add(number1, number2){
    return number1 + number2;
}

var someOtherVariable = add;

someOtherVariable(3, 4); /* returns 7 */
```

???

man kan kaste funksjoner rundt i variable

---

# WebGL

Javascript-API for 3D

OpenGL i nettleseren

Fungerer i de fleste moderne nettlesere (desktop)

???
WebGL er et JavaScript-API for 3D-grafikk i nettleseren.

Det er basert på OpenGL

Grafikken tegnes på et canvas-element (HTML5)

Støttes av Firefox, Chrome, Safari, Opera, IE11

Foreløpig dårlig støtte på mobil

---

### Koordinatsystem i WebGL

.float-left[x er bortover

y er oppover

z er utover
]
.float-right[
![Koordinatsystem i WebGL](res/img/webgl_coordinate_system.png)
]

???
Forklar at når man ser et 2-dimensjonalt koordinatsystem på skjermen er det veldig naturlig å ha Y-aksen oppover og X-aksen bortover.

WebGL er en utvidelse av dette, og har dermed Z-aksen som dybde.

---

# Hvorfor THREE.js

### 3D blir enklere

Bygd opp av:

- Kamera
- Scene
- 3D-objekter (mesh)

???

THREE.js er et javascript-rammeverk som gjør det enkelt å jobbe med 3D i nettleseren.

---
class: middle

```javascript
var renderer = new THREE.WebGLRenderer();

var scene = new THREE.Scene();

var camera = new THREE.PerspectiveCamera(
    view_angle,
    aspect,
    near,
    far
);

camera.position.z = 300;

renderer.setSize(width, height);

document.body.appendChild(renderer.domElement);

renderer.render(scene, camera);
```

???

---

# Legg til objekt

## Geometry

```javascript

var geometry = new THREE.SphereGeometry(
    50, // radius
    16, // segments
    16 // rings
);
```

---

# Legg til objekt

## Material

```javascript

var material = new THREE.MeshBasicMaterial(
    {color: 0xff0000}
);
```

---

# Legg til objekt

## Mesh

```javascript

var sphere = new THREE.Mesh(
    geometry,
    material
);

scene.add(sphere);
```

---

# Animasjon

Animasjon krever at en funksjon kalles med jevne mellomrom

```javascript
function animate() {
    requestAnimationFrame(animate);

    // do animation here
}
```

???

Nettleseren bestemmer hvor ofte funksjonen kalles

Når nettsiden er i bakgrunnen, kalles den sjeldnere

---

# Oppgave 1

## Lage en roterende kube

### http://poetene.net/cube/

???

De fyller ut der det står kommentarer i koden på linken

---

# Oppgave 1

```javascript
mesh = new THREE.Mesh(geometry, material);
```

mesh.rotation har tre properties: x, y og z

```javascript
mesh.rotation.x = 1;
```

---
demo: rotate-cube

# Oppgave 1

<div id=rotate-cube class=demo></div>

???
Noe à la dette
---

# LF oppgave 1

```javascript
function animate() {
    requestAnimationFrame(animate);

    mesh.rotation.x += 0.005;
    mesh.rotation.y += 0.005;

    renderer.render(scene, camera);
}
```

---
class: center, middle

# Date.now()

Millisekunder siden 1. januar 1970

---
class: middle

```javascript
function animate() {
    requestAnimationFrame(animate);

    mesh.rotation.x = Date.now() * 0.0005;
    mesh.rotation.z = Date.now() * 0.0005;

    renderer.render(scene, camera);
}
```

---

# Oppgave 3

## Animer mange kuber

Animer mange kuber i en kul bane. Du kan f.eks bevege de i en sirkelbane eller ∞

---

# Oppgave 3

Du kan enkelt sette position og scale:
```javascript
cube.position.x = ...
cube.scale.y = ...
```

```javascript
Math.sin(0.001 * t)
// Vil sakte men sikkert animere mellom -1 og 1
```

---

# Oppgave 3

## Animer mange kuber

```javascript
for (var i = 0; i < cubes.length; i++) {
	var cube = cubes[i];
	//manipulate every cube here
	cube.position.x = 200 * Math.sin(0.001 * t + 0.5 * i)
}
```
Hvis du bruker i-variabelen, kan du animere hver kube forskjellig

---

# Oppgave 3

## Animer mange kuber

### http://poetene.net/effect/12
---

# Merket dere dette?

Vi har ikke brukt æ, ø eller å

Se hvor rævva støtte fonten vår har

Nå, la oss kode! Hilsen Poëtene

    </textarea>
    <script type="text/javascript">
      var slideshow = remark.create();
    </script>
    <script src=script.js></script>
  </body>
</html>
